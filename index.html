<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Perseverantia</title>
    <style>
      @font-face {
        font-family: Mestizo;
        src: url(/assets/MestizoFont.ttf);
      }
    </style>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      var day = 0;
      var month = 0;
      var year = 0;
      async function a(){
        await fetch("/config.json")
        .then((res) => {console.log(res);return res.json();})
        .then((data) => {
          const site = data.website;
          console.log(site)
          day = site.countdown.day;
          month = site.countdown.month;
          year = site.countdown.year;
          for(let i=0;i<site.navbar.links.length;i++){
            document.getElementById("desktop-nav").innerHTML += `<a href="${site.navbar.links[i].linkto}" class="hover:text-blue-200">${site.navbar.links[i].name}</a>`;
            document.getElementById("mobile-menu").innerHTML += `<a href="${site.navbar.links[i].linkto}" class="block py-2 text-lg hover:text-blue-200">${site.navbar.links[i].name}</a>`
            
          }

          // Navbar
          document.getElementById("nav-title").textContent = site.navbar.title;
          document.getElementById("tb1").textContent = site.about.tb1;
          document.getElementById("tbg").textContent = site.about.tbg;
          document.getElementById("tb2").textContent = site.about.tb2;


          // About Buttons
          const btn1 = document.getElementById("button1");
          btn1.textContent = site.about.button1.name;
          btn1.href = site.about.button1.link;

          const btn2 = document.getElementById("button2");
          btn2.textContent = site.about.button2.name;
          btn2.href = site.about.button2.link;

          // About Image
          document.getElementById("about-img").src = site.about.photo;

          // Register Text and Link
          document.getElementById("register-content").textContent =
            site.register.content;
          document.getElementById("register-link").href = site.register.link;

          // Contact Info
          document.getElementById("contact-numbers").textContent =
            site.contact.mobileNos;

          const contactEmail = document.getElementById("contact-email");
          contactEmail.href = "mailto:" + site.contact.email;
          contactEmail.textContent = site.contact.email;
          
        })
        .catch((err) => {
          console.error("Failed to load /config", err);
        });
                }
      a();
    </script>
    <link rel="icon" type="image/png" href="/assets/persevlogo.png" />
  </head>
  <body class="bg-gray-100 text-gray-800">
    <!-- Navbar -->
    <nav class="text-white" style="background: #081032">
      <div
        class="container mx-auto px-4 py-4 flex justify-between items-center"
      >
        <div class="text-2xl" style="font-family: Mestizo" id="nav-title">
          Perseverantia
        </div>

        <!-- Desktop Nav -->
        <div class="hidden md:flex space-x-6 text-lg" id="desktop-nav">
          
        </div>

        <!-- Mobile Menu Button -->
        <div class="md:hidden">
          <button id="menu-toggle" class="focus:outline-none">
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              viewBox="0 0 24 24"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M4 6h16M4 12h16M4 18h16" />
            </svg>
          </button>
        </div>
      </div>

      <!-- Mobile Menu -->
      <!--   <div id="mobile-menu"
           class="md:hidden hidden opacity-0 scale-y-95 transform transition-all duration-300 ease-in-out origin-top px-4 pb-4">
        <a href="/leaderboard" class="block py-2 text-lg hover:text-blue-200">Leaderboard</a>
        <a href="/fortuna" class="block py-2 text-lg hover:text-blue-200">Fortuna</a>
      </div>
-->
      <div
        id="mobile-menu"
        class="md:hidden hidden opacity-0 scale-y-90 -translate-y-4 transform transition-all duration-500 ease-out origin-top px-4 pb-4"
      >
        
      </div>
    </nav>

    <!-- Header Section with Image -->
    <header
      class="relative"
      style="
        background: #11598d;
        background: linear-gradient(
          50deg,
          rgba(17, 89, 141, 1) 0%,
          rgba(8, 16, 50, 1) 100%
        );
      "
    >
      <img
        src="https://static.wixstatic.com/media/ed81f5_8df05af3e7524dafab639abced71ab32~mv2.png/v1/fill/w_480,h_477,al_c,q_85,usm_0.66_1.00_0.01,enc_avif,quality_auto/ed81f5_8df05af3e7524dafab639abced71ab32~mv2.png"
        alt="Perseverantia Banner"
        class="w-full max-w-md mx-auto pt-6"
      />

      <section class="text-white py-8 mx-8">
        <div class="container mx-auto text-center">
          <h2 class="text-5xl" style="font-family: Mestizo">
            The Countdown Begins!
          </h2>
          <div
            class="mt-8 max-w-4xl mx-auto text-center text-white border-8 border-[#BE8E30] rounded-[30px] px-4 py-6"
          >
            <!-- Countdown digits -->
            <div
              class="grid grid-cols-2 sm:grid-cols-4 gap-y-4 sm:gap-6 text-5xl sm:text-6xl md:text-7xl font-bold"
            >
              <div>
                <span id="d">00</span><br />
                <div class="mt-2 text-base sm:text-lg md:text-xl font-medium">
                  Days
                </div>
              </div>
              <div>
                <span id="h">00</span><br />
                <div class="mt-2 text-base sm:text-lg md:text-xl font-medium">
                  Hours
                </div>
              </div>
              <div>
                <span id="m">00</span>
                <div class="mt-2 text-base sm:text-lg md:text-xl font-medium">
                  Minutes
                </div>
              </div>
              <div>
                <span id="s">00</span>
                <div class="mt-2 text-base sm:text-lg md:text-xl font-medium">
                  Seconds
                </div>
              </div>
            </div>

            <!-- Event date -->
            <p class="text-xl sm:text-2xl md:text-3xl mt-6">
              3rd October @ 7:00 a.m.
            </p>
          </div>
        </div>
      </section>
    </header>

    <!-- Countdown Section -->

    <section class="grid grid-cols-1 md:grid-cols-2 min-h-[500px]">
      <!-- Left Column: Text Content -->
      <div
        class="bg-[#081032] text-white p-8 md:p-12 flex flex-col justify-between h-full"
      >
        <div id="about-section">
          <p class="text-lg mb-4" id="tb1">
            Bombay Scottish School, Mahim has returned with the third edition of
            its Annual Inter-School Fest - Perseverantia! Perseverantia aims to
            sensitise youth towards societal issues and conflicts through
            various performing, tech, literary and fine-art events.
          </p>
          <p class="text-lg text-yellow-400 font-semibold mb-4" id="tbg">
            Our theme for this year is INCLUSIVITY
          </p>
          <p class="text-lg mb-4" id="tb2">
            Whether you are a Gaming Geek or a Football Freak, a Fashionista or
            a Filmmaker, a Dancer or a Debater, a Writer or the Wolf of Wall
            Street, we have something for everyone.
          </p>
          <p class="text-lg">
            Join us on an enthralling journey where you can make a mark by
            displaying your talent through 15 exciting events.
          </p>
        </div>

        <div class="mt-8 flex flex-col gap-y-6">
          <a
            href="/events"
            id="button1"
            target="_blank"
            class="text-white bg-[#081032] lg:mx-52 py-3 px-6 rounded-full hover:shadow-xl hover:bg-[#BE8E30] hover:outline-[#081032] hover:text-black transition duration-300 outline outline-[4px] outline-[#BE8E30] outline-offset-2 text-center"
          >
            View Events
          </a>
          <a
            href="/organizing-committee"
            id="button2"
            target="_blank"
            class="text-white bg-[#081032] lg:mx-44 py-3 px-6 rounded-full hover:shadow-xl hover:bg-[#BE8E30] hover:outline-[#081032] hover:text-black transition duration-300 outline outline-[4px] outline-[#BE8E30] outline-offset-2 text-center"
          >
            Organizing Committee
          </a>
        </div>
      </div>

      <!-- Right Column: Full Image with Gradient Background -->
      <div
        class="relative w-full h-64 md:h-auto min-h-[500px]"
        style="
          background: linear-gradient(
            50deg,
            rgba(17, 89, 141, 1) 0%,
            rgba(8, 16, 50, 1) 80%
          );
        "
      >
        <img
          id="about-img"
          src="https://static.wixstatic.com/media/447894_0bcb6114fe254d76a4301c97bad20409~mv2.jpg/v1/crop/x_266,y_21,w_1082,h_1045/fill/w_408,h_382,al_c,q_80,usm_0.66_1.00_0.01,enc_avif,quality_auto/WhatsApp%20Image%202024-06-10%20at%2019_40_edite.jpg"
          alt="About Perseverantia"
          class="w-full h-full object-cover object-center rounded-none"
        />
      </div>
    </section>

    <!-- Contact Section -->
    <!-- Register and Contact Section -->
    <section class="grid grid-cols-1 md:grid-cols-2">
      <!-- Left Column: Register Now -->
      <div
        class="p-10 text-white flex flex-col justify-center items-center"
        style="
          background: linear-gradient(
            50deg,
            rgba(17, 89, 141, 1) 0%,
            rgba(8, 16, 50, 1) 100%
          );
        "
      >
        <h2 class="text-4xl mb-4 mt-4 text-center" style="font-family: Mestizo">
          Register Now
        </h2>
        <p class="text-lg text-center mb-6 max-w-md" id="register-content">
          Be part of Perseverantia '25 and showcase your talents across 21+
          thrilling events. Don’t miss your chance to compete, collaborate, and
          celebrate!
        </p>
        <a
          href="/register"
          id="register-link"
          target="_blank"
          class="text-white bg-[#081032] py-3 px-8 rounded-full hover:shadow-xl hover:bg-[#BE8E30] hover:outline-[#081032] hover:text-black transition duration-300 outline outline-[4px] outline-[#BE8E30] outline-offset-2"
        >
          Register Here
        </a>
      </div>

      <!-- Right Column: Contact Info -->
      <div class="bg-[#081032] text-white p-10 flex flex-col justify-center">
        <h2 class="text-4xl mb-4" style="font-family: Mestizo">Contact Us</h2>
        <p class="text-lg mb-2" id="contact-numbers">
          📞 +91 84258 98552 / +91 77380 99474 / +91 70211 38415
        </p>
        <p class="text-lg mb-2 break-words">
          ✉️
          <a id="contact-email"
            href="mailto:perseverantia.mahim@bombayscottish.in"
            class="text-blue-400 hover:underline break-all"
          >
            perseverantia.mahim@bombayscottish.in
          </a>
        </p>
        <p class="text-lg">
          📍 153, Swatantryaveer Savarkar Road,<br />
          Mahim West, Mumbai, Maharashtra - 400016
        </p>
      </div>
    </section>
    <!-- Footer Section -->
    <footer class="bg-blue-900 text-white py-6">
      <div class="container mx-auto text-center">
        <p>&copy; 2025 Bombay Scottish School, Mahim. All rights reserved.</p>
      </div>
    </footer>

    <!-- Mobile Menu Toggle Script -->
    <!--<script>
      const toggleBtn = document.getElementById('menu-toggle');
      const mobileMenu = document.getElementById('mobile-menu');
      let menuOpen = false;

      toggleBtn.addEventListener('click', () => {
        menuOpen = !menuOpen;

        if (menuOpen) {
          // Step 1: Remove hidden to allow rendering
          mobileMenu.classList.remove('hidden');

          // Step 2: Force a reflow (so transition triggers)
          void mobileMenu.offsetWidth;

          // Step 3: Apply transition styles
          mobileMenu.classList.remove('opacity-0', 'scale-y-95');
          mobileMenu.classList.add('opacity-100', 'scale-y-100');
        } else {
          // Animate out
          mobileMenu.classList.remove('opacity-100', 'scale-y-100');
          mobileMenu.classList.add('opacity-0', 'scale-y-95');

          // Delay hiding until after animation ends
          setTimeout(() => {
            if (!menuOpen) {
              mobileMenu.classList.add('hidden');
            }
          }, 300);
        }
      });
    </script>-->

    <script>
      const toggleBtn = document.getElementById("menu-toggle");
      const mobileMenu = document.getElementById("mobile-menu");
      let menuOpen = false;

      toggleBtn.addEventListener("click", () => {
        menuOpen = !menuOpen;

        if (menuOpen) {
          // Step 1: Remove hidden
          mobileMenu.classList.remove("hidden");

          // Step 2: Force reflow to trigger transition
          void mobileMenu.offsetWidth;

          // Step 3: Apply animated "bounce in" styles
          mobileMenu.classList.remove(
            "opacity-0",
            "scale-y-90",
            "-translate-y-4",
          );
          mobileMenu.classList.add(
            "opacity-100",
            "scale-y-100",
            "translate-y-0",
          );
        } else {
          // Animate out
          mobileMenu.classList.remove(
            "opacity-100",
            "scale-y-100",
            "translate-y-0",
          );
          mobileMenu.classList.add("opacity-0", "scale-y-90", "-translate-y-4");

          // Hide after animation completes
          setTimeout(() => {
            if (!menuOpen) {
              mobileMenu.classList.add("hidden");
            }
          }, 500); // Match transition duration
        }
      });
    </script>

    <script>
      let d = document.getElementById("d");
      let h = document.getElementById("h");
      let m = document.getElementById("m");
      let s = document.getElementById("s");
        setInterval(() => {
          if (new Date(year, month-1, day, 7, 0, 0) > new Date()){
          d.innerHTML = (
            "" +
            Math.floor(
              (new Date(year,month-1, day, 7, 0, 0) - new Date()) / (1000 * 86400),
            )
          ).padStart(2, "0");
          h.innerHTML = (
            "" +
            Math.floor(
              ((new Date(year, month-1, day, 7, 0, 0).getTime() - Date.now()) /
                (1000 * 3600)) %
                24,
            )
          ).padStart(2, "0");
          m.innerHTML = (
            "" +
            Math.floor(
              ((new Date(year, month-1, day, 7, 0, 0).getTime() - Date.now()) /
                (1000 * 60)) %
                60,
            )
          ).padStart(2, "0");
          s.innerHTML = (
            "" +
            Math.floor(
              ((new Date(year, month-1, day, 7, 0, 0).getTime() - Date.now()) / 1000) %
                60,
            )
          ).padStart(2, "0");
          }
        }, 1000);
      
    </script>
  </body>
</html>
